import { PrismaClient } from '@prisma/client';
import bcrypt from 'bcryptjs';
import dotenv from 'dotenv';

dotenv.config();

const prisma = new PrismaClient();

async function importBakuMenu() {
  try {
    console.log('üå± Importing Baku restaurant menu...');

    // Create restaurant owner
    const owner = await prisma.user.upsert({
      where: { email: 'baku@restaurant.com' },
      update: {},
      create: {
        email: 'baku@restaurant.com',
        password: await bcrypt.hash('baku123', 10),
        name: 'Baku Owner',
        phone: '+905545334946'
      }
    });
    console.log('‚úÖ Owner created/updated');

    // Create restaurant
    const restaurant = await prisma.restaurant.upsert({
      where: { subdomain: 'baku' },
      update: {},
      create: {
        name: 'Baku',
        subdomain: 'baku',
        address: 'Barbaros Cd',
        phone: '+905545334946',
        whatsapp: '905545334946',
        currency: '‚Ç∫',
        userId: owner.id,
        subscription: {
          create: {
            plan: 'PREMIUM',
            status: 'ACTIVE',
            currentPeriodStart: new Date(),
            currentPeriodEnd: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000)
          }
        }
      }
    });
    console.log('‚úÖ Restaurant created/updated');

    // Categories with dishes
    const categoriesData = [
      {
        name: '–•–æ–ª–æ–¥–Ω—ã–µ –∑–∞–∫—É—Å–∫–∏',
        description: '–•–æ–ª–æ–¥–Ω—ã–µ –∑–∞–∫—É—Å–∫–∏',
        dishes: [
          { name: '–î–æ–º–∞—à–Ω–µ–µ —Å–æ–ª–µ–Ω—å–µ ‚Äì 200 –≥', price: 250 },
          { name: '–õ–∏–º–æ–Ω', price: 50 },
          { name: '–°–µ–ª—å–¥—å —Å –∫–∞—Ä—Ç–æ—à–∫–æ–π ‚Äì 200 –≥', price: 350 },
          { name: '–°—ë–º–≥–∞ —Å–ª–∞–±–æ—Å–æ–ª—ë–Ω–∞—è ‚Äì 100 –≥', price: 370 },
          { name: '–°—ã—Ä–Ω–∞—è —Ç–∞—Ä–µ–ª–∫–∞ ‚Äì 200 –≥', price: 240 },
          { name: '–ë–∞–∫–∏–Ω—Å–∫–∏–π –±—É–∫–µ—Ç ‚Äì 350 –≥', description: '–ü–æ–º–∏–¥–æ—Ä—ã, –æ–≥—É—Ä—Ü—ã, –∑–µ–ª–µ–Ω—å, –∞—Å—Å–æ—Ä—Ç–∏ –ø–µ—Ä—Ü–∞, —Ä–µ–¥–∏—Å', price: 280 },
          { name: '–õ–æ–±–∏–æ –ø–æ-–∞–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω—Å–∫–∏ ‚Äì 200 –≥', description: '–ö—Ä–∞—Å–Ω–∞—è —Ñ–∞—Å–æ–ª—å, –∫–∏–Ω–∑–∞, —á–µ—Å–Ω–æ–∫, –≥—Ä–µ—Ü–∫–∏–µ –æ—Ä–µ—Ö–∏', price: 350 }
        ]
      },
      {
        name: '–ì–æ—Ä—è—á–∏–µ –∑–∞–∫—É—Å–∫–∏',
        description: '–ì–æ—Ä—è—á–∏–µ –∑–∞–∫—É—Å–∫–∏',
        dishes: [
          { name: '–ö—É—Ç–∞–±—ã –ø–æ 1 —à—Ç', description: '–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞—á–∏–Ω–∫—É', price: 0 },
          { name: '–ü–∏—Ä–æ–∂–∫–∏ ‚Äì 1 —à—Ç', description: '–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞—á–∏–Ω–∫—É', price: 0 }
        ]
      },
      {
        name: '–°–∞–ª–∞—Ç—ã',
        description: '–°–∞–ª–∞—Ç—ã',
        dishes: [
          { name: '–¶–µ–∑–∞—Ä—å —Å –∫—É—Ä–∏—Ü–µ–π ‚Äì 250 –≥', price: 390 },
          { name: '–¶–µ–∑–∞—Ä—å —Å —Å–µ–º–≥–æ–π ‚Äì 250 –≥', price: 390 },
          { name: '–°–∞–ª–∞—Ç —Å —Ç–µ–ª—è—á—å–∏–º —è–∑—ã–∫–æ–º –∏ —Ä—É–∫–∫–æ–ª–æ–π ‚Äì 250 –≥', description: '–†—É–∫–∫–æ–ª–∞, –ø–æ–º–∏–¥–æ—Ä—ã, –æ—Ä–µ—Ö–∏ –∫–µ—à—å—é, —Ç–µ–ª—è—á–∏–π —è–∑—ã–∫, –∑–∞–ø—Ä–∞–≤–∫–∞', price: 370 },
          { name: '–°–∞–ª–∞—Ç –∏–∑ —Å–≤–µ–∫–ª—ã ‚Äì 250 –≥', description: '–ó–∞–ø–µ—á—ë–Ω–Ω–∞—è —Å–≤–µ–∫–ª–∞, –∫–æ–∑–∏–π —Å—ã—Ä, –º–∏–∫—Å —Å–∞–ª–∞—Ç–∞, –æ—Ä–µ—Ö–∏ –∫–µ—à—å—é, –∑–∞–ø—Ä–∞–≤–∫–∞', price: 390 },
          { name: '–°–∞–ª–∞—Ç –æ—Ç –®–µ—Ñ–∞ ‚Äì 250 –≥', description: '–ë–∞—Ä–∞–Ω–∏–Ω–∞, —Ä—É–∫–∫–æ–ª–∞, –≥—Ä–∞–Ω–∞—Ç, –∫–∏–Ω–∑–∞, –ø–æ–º–∏–¥–æ—Ä—ã, –æ–≥—É—Ä—Ü—ã, –∫—Ä–∞—Å–Ω—ã–π –ª—É–∫, –≥—Ä–∞–Ω–∞—Ç–æ–≤—ã–π —Å–æ—É—Å', price: 380 },
          { name: '–°–∞–ª–∞—Ç –ë–∞–∫—É ‚Äì 250 –≥', description: '–°–µ–º–≥–∞, –º–∏–∫—Å —Å–∞–ª–∞—Ç–∞, —Å—ã—Ä–Ω—ã–µ —à–∞—Ä–∏–∫–∏ —Å –∫–µ–¥—Ä–æ–≤—ã–º–∏ –æ—Ä–µ—Ö–∞–º–∏, –º–µ–¥–æ–≤–æ-–ª–∏–º–æ–Ω–Ω—ã–π —Å–æ—É—Å', price: 390 },
          { name: '–¶–µ–∑–∞—Ä—å —Å –∫—Ä–µ–≤–µ—Ç–∫–∞–º–∏ ‚Äì 250 –≥', price: 410 },
          { name: '–ö–∞–ø—Ä–µ–∑–µ ‚Äì 250 –≥', description: '–ü–æ–º–∏–¥–æ—Ä—ã, –º–æ—Ü–∞—Ä–µ–ª–ª–∞, –ø–µ—Å—Ç–æ', price: 270 },
          { name: '–°–∞–ª–∞—Ç —Å –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ ‚Äì 250 –≥', description: '–ú–∏–∫—Å –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–≤, –º–∏–∫—Å —Å–∞–ª–∞—Ç–∞, —Å–æ–µ–≤—ã–π —Å–æ—É—Å', price: 440 },
          { name: '–ì—Ä–µ—á–µ—Å–∫–∏–π —Å–∞–ª–∞—Ç ‚Äì 250 –≥', description: '–ü–æ–º–∏–¥–æ—Ä—ã, –æ–≥—É—Ä—Ü—ã, –±–æ–ª–≥–∞—Ä—Å–∫–∏–π –ø–µ—Ä–µ—Ü, –∫—Ä–∞—Å–Ω—ã–π –ª—É–∫, —Å—ã—Ä –§–µ—Ç–∞, –æ–ª–∏–≤–∫–∏', price: 290 },
          { name: '–•—Ä—É—Å—Ç—è—â–∏–µ –±–∞–∫–ª–∞–∂–∞–Ω—ã ‚Äì 200 –≥', description: '–ë–∞–∫–ª–∞–∂–∞–Ω—ã, –ø–æ–º–∏–¥–æ—Ä—ã, –∫–∏–Ω–∑–∞, –∫–∏—Å–ª–æ-—Å–ª–∞–¥–∫–∏–π —Å–æ—É—Å', price: 320 },
          { name: '–ß–æ–±–∞–Ω-—Å–∞–ª–∞—Ç ‚Äì 200 –≥', description: '–ü–æ–º–∏–¥–æ—Ä—ã, –æ–≥—É—Ä—Ü—ã, –∫—Ä–∞—Å–Ω—ã–π –ª—É–∫, —Å—ã—Ä, –∑–µ–ª–µ–Ω—å', price: 280 }
        ]
      },
      {
        name: '–ü–µ—Ä–≤—ã–µ –±–ª—é–¥–∞',
        description: '–ü–µ—Ä–≤—ã–µ –±–ª—é–¥–∞',
        dishes: [
          { name: '–ö—é—Ñ—Ç–∞ –±–æ–∑–±–∞—à ‚Äì 400 –≥', description: '–ë–∞—Ä–∞–Ω–∏–π —Ñ–∞—Ä—à, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, –Ω—É—Ç', price: 380 },
          { name: '–ü–∏—Ç–∏ ‚Äì 350 –≥', description: '–ë–∞—Ä–∞–Ω–∏–Ω–∞, –∫–∞—à—Ç–∞–Ω—ã, –º—è—Ç–∞, —Å—É–º–∞—Ö', price: 390 },
          { name: '–°—É–ø —Å –ª–∞–ø—à–æ–π –∏ –∫—É—Ä–∏—Ü–µ–π ‚Äì 350 –≥', price: 390 },
          { name: '–•–∞—à–ª–∞–º–∞ ‚Äì 350 –≥', description: '–ë–∞—Ä–∞–Ω–∏–Ω–∞, –æ–≤–æ—â–∏, –∑–µ–ª–µ–Ω—å, –∞–ª–±—É—Ö–∞—Ä–∞', price: 350 },
          { name: '–ö—Ä–µ–º-—Å—É–ø –≥—Ä–∏–±–Ω–æ–π ‚Äì 300 –≥', price: 280 },
          { name: '–ö—Ä–µ–º-—Å—É–ø —Ç—ã–∫–≤–µ–Ω–Ω—ã–π ‚Äì 300 –≥', price: 280 },
          { name: '–•–∞—Ä—á–æ ‚Äì 300 –≥', description: '–ì–æ–≤—è–¥–∏–Ω–∞, —Ä–∏—Å, —Å–ø–µ—Ü–∏–∏, —Ç–æ–º–∞—Ç', price: 310 },
          { name: '–î–æ–≤–≥–∞ ‚Äì 300 –≥', description: '–í–∞—Ä—ë–Ω—ã–π –º–∞—Ü–æ–Ω–∏ —Å –∑–µ–ª–µ–Ω—å—é', price: 210 },
          { name: '–î—é—à–±–∞—Ä–∞ ¬´–ë–∞–∫–∏–Ω—Å–∫–∞—è¬ª ‚Äì 350 –≥', description: '–ú–∏–Ω–∏-—Ä–∞–≤–∏–æ–ª–∏ –≤ –±—É–ª—å–æ–Ω–µ', price: 330 },
          { name: '–°–æ—é—Ç–º–∞ ‚Äì 350 –≥', description: '–ë–∞—Ä–∞–Ω—å—è –º–∞—Ü–∞ –≤ –±—É–ª—å–æ–Ω–µ', price: 380 },
          { name: '–ë–æ—Ä—â ‚Äì 300 –≥', price: 310 },
          { name: '–û–∫—Ä–æ—à–∫–∞ ‚Äì 300 –≥', price: 250 }
        ]
      },
      {
        name: '–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞',
        description: '–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞',
        dishes: [
          { name: '–®–∞—Ö-–ø–ª–æ–≤ ‚Äì 350 –≥', description: '–†–∏—Å, –º—è—Å–æ, —Å—É—Ö–æ—Ñ—Ä—É–∫—Ç—ã, —à–∞—Ñ—Ä–∞–Ω, –ª–∞–≤–∞—à', price: 390 },
          { name: '–•–∏–Ω–∫–∞–ª–∏ –ø–æ-–≥—Ä—É–∑–∏–Ω—Å–∫–∏ ‚Äì 1 —à—Ç', description: '–ì–æ–≤—è–¥–∏–Ω–∞, –±–∞—Ä–∞–Ω–∏–Ω–∞', price: 75 },
          { name: '–î–æ–ª–º–∞ ‚Äì 200 –≥', description: '–§–∞—Ä—à, —Ä–∏—Å, –∑–µ–ª–µ–Ω—å –≤ –≤–∏–Ω–æ–≥—Ä–∞–¥–Ω—ã—Ö –ª–∏—Å—Ç—å—è—Ö', price: 340 },
          { name: '–ö–∞–∑–∞–Ω-–∫–µ–±–∞–± ‚Äì 300 –≥', description: '–ë–∞—Ä–∞–Ω–∏–Ω–∞, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å', price: 380 },
          { name: '–°—ã—Ä –î–∞—Ö (–∏–∑ —Ä—ã–±—ã) ‚Äì 250 –≥', description: '–†—ã–±–∞, –ª—É–∫, –∑–µ–ª–µ–Ω—å, —á–µ—Å–Ω–æ–∫, –ø–æ–º–∏–¥–æ—Ä—ã', price: 420 },
          { name: '–•–∏–Ω–∫–∞–ª–∏ –ø–æ-–∞–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω—Å–∫–∏', description: '–¢–æ–Ω–∫–æ–µ —Ç–µ—Å—Ç–æ, –±–∞—Ä–∞–Ω–∏–π —Ñ–∞—Ä—à, –ø–æ–¥–∞—ë—Ç—Å—è —Å –º–∞—Ü–æ–Ω–∏', price: 370 },
          { name: '–î–æ–ª–º–∞ "–¢—Ä–∏ —Å–µ—Å—Ç—Ä—ã" ‚Äì 300 –≥', price: 390 },
          { name: '–ü–ª–æ–≤ —Å —Ü—ã–ø–ª—ë–Ω–∫–æ–º ‚Äì 350 –≥', description: '–¶—ã–ø–ª—ë–Ω–æ–∫, –æ—Ä–µ—Ö–∏, –ª—É–∫, —Å–ø–µ—Ü–∏–∏', price: 350 },
          { name: '–î–æ–ª–º–∞ –±–∞–∫–ª–∞–∂–∞–Ω–æ–≤–∞—è —Å –ª—è–≤—è–Ω–≥–∏ ‚Äì 300 –≥', price: 490 },
          { name: '–•–∞—á–∞–ø—É—Ä–∏ –ø–æ-–∞–¥–∂–∞—Ä—Å–∫–∏ ‚Äì 300 –≥', price: 340 },
          { name: '–ì—É–ª—è—à –∏–∑ –≥–æ–≤—è–¥–∏–Ω—ã ‚Äì 150 –≥', description: '–ì–æ–≤—è–¥–∏–Ω–∞, –±–∞—Ä–∞–Ω–∏–Ω–∞ (–≥–∞—Ä–Ω–∏—Ä –Ω–∞ –≤—ã–±–æ—Ä)', price: 420 },
          { name: '–£–∑–±–µ–∫—Å–∫–∏–π –ø–ª–æ–≤ ‚Äì 300 –≥', description: '–ú—è—Å–æ, —Ä–∏—Å, –ª—É–∫, –∑–∏—Ä–∞, —Å–ø–µ—Ü–∏–∏', price: 350 },
          { name: '–ß–∏–≥–∏—Ä—Ç–º–∞ –∏–∑ —Ü—ã–ø–ª—ë–Ω–∫–∞ ‚Äì 300 –≥', description: '–¶—ã–ø–ª—ë–Ω–æ–∫, –ª—É–∫, –ø–æ–º–∏–¥–æ—Ä—ã, —è–π—Ü–æ, –∑–µ–ª–µ–Ω—å', price: 320 },
          { name: '–°–∞–¥–∂ ‚Äì 1 –∫–≥', description: '–¶—ã–ø–ª—ë–Ω–æ–∫/–±–∞—Ä–∞–Ω–∏–Ω–∞, –±–∞–∫–ª–∞–∂–∞–Ω—ã, –≥—Ä–∏–±—ã, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, –ª—É–∫, –ø–æ–º–∏–¥–æ—Ä—ã, –æ—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ü', price: 0 },
          { name: '–•–∞—á–∞–ø—É—Ä–∏ –ø–æ-–º–µ–≥—Ä–µ–ª—å—Å–∫–∏ ‚Äì 500 –≥', price: 390 }
        ]
      },
      {
        name: '–ì–∞—Ä–Ω–∏—Ä—ã',
        description: '–ì–∞—Ä–Ω–∏—Ä—ã',
        dishes: [
          { name: '–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –§—Ä–∏ ‚Äì 100 –≥', price: 150 },
          { name: '–†–∏—Å –æ—Ç–≤–∞—Ä–Ω–æ–π ‚Äì 150 –≥', price: 120 },
          { name: '–ì—Ä–µ—á–∫–∞ ‚Äì 150 –≥', price: 130 },
          { name: '–°–ø–∞–≥–µ—Ç—Ç–∏ ‚Äì 150 –≥', price: 150 },
          { name: '–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω–æ–µ –ø—é—Ä–µ ‚Äì 150 –≥', price: 150 },
          { name: '–ë—É–ª–≥—É—Ä ‚Äì 150 –≥', price: 150 }
        ]
      },
      {
        name: '–°–æ—É—Å—ã',
        description: '–°–æ—É—Å—ã',
        dishes: [
          { name: '–ú–∞—Ü–æ–Ω–∏ ‚Äì 50 –≥', price: 80 },
          { name: '–°–º–µ—Ç–∞–Ω–∞ ‚Äì 50 –≥', price: 80 },
          { name: '–¢–∞—Ä—Ç–∞—Ä ‚Äì 50 –≥', price: 100 },
          { name: '–ù–∞—Ä—à–∞—Ä–∞–± ‚Äì 50 –≥', price: 110 },
          { name: '–ö–µ—Ç—á—É–ø ‚Äì 50 –≥', price: 50 },
          { name: '–ê–¥–∂–∏–∫–∞ ‚Äì 50 –≥', price: 90 },
          { name: '–°–æ–µ–≤—ã–π —Å–æ—É—Å ‚Äì 50 –≥', price: 80 }
        ]
      },
      {
        name: '–®–∞—à–ª—ã–∫–∏',
        description: '–®–∞—à–ª—ã–∫–∏',
        dishes: [
          { name: '–®–∞—à–ª—ã–∫ –∏–∑ –±–∞—Ä–∞–Ω–∏–Ω—ã (–º—è–∫–æ—Ç—å) ‚Äì 200 –≥', price: 380 },
          { name: '–õ—é–ª—è-–∫–µ–±–∞–± –∏–∑ –±–∞—Ä–∞–Ω–∏–Ω—ã ‚Äì 200 –≥', price: 410 },
          { name: '–õ—é–ª—è-–∫–µ–±–∞–± –∏–∑ –∫—É—Ä–∏—Ü—ã ‚Äì 200 –≥', price: 390 },
          { name: '–®–∞—à–ª—ã–∫ –∏–∑ –±–∞—Ä–∞–Ω—å–∏—Ö —Å–µ–º–µ—á–µ–∫ ‚Äì 180 –≥', price: 350 },
          { name: '–¢–µ–ª—è—á—å—è –º—è–∫–æ—Ç—å ‚Äì 200 –≥', price: 320 },
          { name: '–ü–µ—Ä–µ–ø—ë–ª–∫–∞ –Ω–∞ –º–∞–Ω–≥–∞–ª–µ ‚Äì 1 —à—Ç', price: 380 },
          { name: '–†—ã–±–∞ –¥–æ—Ä–∞–¥–∞ ‚Äì 300 –≥', price: 250 },
          { name: '–†—ã–±–∞ —Å–∏–±–∞—Å ‚Äì 300 –≥', price: 290 },
          { name: '–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω–∞—è –ª—é–ª—è ‚Äì 200 –≥', price: 220 },
          { name: '–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞ ‚Äì 200 –≥', price: 310 },
          { name: '–®–∞–º–ø–∏–Ω—å–æ–Ω—ã –Ω–∞ –º–∞–Ω–≥–∞–ª–µ ‚Äì 180 –≥', price: 250 },
          { name: '–®–∞—à–ª—ã–∫ –∏–∑ –±–∞—Ä–∞–Ω–∏–Ω—ã (–∫–æ—Ä–µ–π–∫–∞) ‚Äì 200 –≥', price: 410 },
          { name: '–ë–∞—Å—Ç—É—Ä–º–∞ –∏–∑ –≥–æ–≤—è–¥–∏–Ω—ã ‚Äì 200 –≥', price: 320 },
          { name: '–ì–æ–≤—è–∂—å—è –ø–µ—á–µ–Ω—å —Å –∫—É—Ä–¥—é–∫–æ–º ‚Äì 200 –≥', price: 380 },
          { name: '–®–∞—à–ª—ã–∫ –∞—Å—Å–æ—Ä—Ç–∏ (–±–∞—Ä–±–µ–∫—é-–Ω–∞–±–æ—Ä)', description: '–ë–∞—Ä–∞–Ω—å—è –∫–æ—Ä–µ–π–∫–∞, –±–∞—Ä–∞–Ω—å—è –º—è–∫–æ—Ç—å, –±–∞—Ä–∞–Ω—å—è –ª—é–ª—è, —Ç–µ–ª—è—Ç–∏–Ω–∞, –∫—É—Ä–∏—Ü–∞, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, –æ–≤–æ—â–∏', price: 3200 },
          { name: '–û–≤–æ—â–Ω–æ–π —à–∞—à–ª—ã–∫ ‚Äì 300 –≥', price: 0 }
        ]
      }
    ];

    // Create categories and dishes
    for (const categoryData of categoriesData) {
      const category = await prisma.category.upsert({
        where: {
          id: `${restaurant.id}-${categoryData.name}`
        },
        update: {},
        create: {
          id: `${restaurant.id}-${categoryData.name}`,
          name: categoryData.name,
          description: categoryData.description,
          restaurantId: restaurant.id,
          order: categoriesData.indexOf(categoryData)
        }
      });

      // Create dishes for this category
      for (const dishData of categoryData.dishes) {
        await prisma.dish.upsert({
          where: {
            id: `${category.id}-${dishData.name}`
          },
          update: {},
          create: {
            id: `${category.id}-${dishData.name}`,
            name: dishData.name,
            description: dishData.description || '',
            price: dishData.price,
            categoryId: category.id,
            isAvailable: true,
            order: categoryData.dishes.indexOf(dishData)
          }
        });
      }

      console.log(`‚úÖ Category "${categoryData.name}" with ${categoryData.dishes.length} dishes created`);
    }

    console.log('\nüéâ Baku menu imported successfully!');
    console.log('\nüìù Test account:');
    console.log('Email: baku@restaurant.com');
    console.log('Password: baku123');
    console.log('\nüåê Menu: http://localhost:5173/menu/baku');

  } catch (error) {
    console.error('‚ùå Error importing menu:', error);
  } finally {
    await prisma.$disconnect();
  }
}

importBakuMenu();
