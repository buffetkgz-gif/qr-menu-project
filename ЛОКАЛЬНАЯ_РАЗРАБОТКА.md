# üè† –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±–µ–∑ Supabase

> –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å SQLite –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLite (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)

SQLite –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PostgreSQL –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.

```powershell
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ backend
Set-Location "d:\QR MENU\backend"

# 2. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å .env —Ñ–∞–π–ª—ã
Rename-Item .env .env.supabase
Rename-Item .env.local .env

# 3. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å schema —Ñ–∞–π–ª—ã
Set-Location prisma
Rename-Item schema.prisma schema.postgres.prisma
Rename-Item schema.local.prisma schema.prisma

# 4. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
Set-Location ..
npx prisma db push

# 5. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
node prisma/seed.js

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
Set-Location "d:\QR MENU"
npm run dev
```

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

- Email: `test@restaurant.com`
- Password: `test123`

---

## üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É SQLite –∏ Supabase

### –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ SQLite (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

```powershell
Set-Location "d:\QR MENU\backend"

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å .env
Rename-Item .env .env.supabase -Force
Rename-Item .env.local .env -Force

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å schema
Set-Location prisma
Rename-Item schema.prisma schema.postgres.prisma -Force
Rename-Item schema.local.prisma schema.prisma -Force
Set-Location ..

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É
npx prisma db push
```

### –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ Supabase (production)

```powershell
Set-Location "d:\QR MENU\backend"

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å .env
Rename-Item .env .env.local -Force
Rename-Item .env.supabase .env -Force

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å schema
Set-Location prisma
Rename-Item schema.prisma schema.local.prisma -Force
Rename-Item schema.postgres.prisma schema.prisma -Force
Set-Location ..

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma db push
```

---

## üìä –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É SQLite –∏ PostgreSQL

| –§—É–Ω–∫—Ü–∏—è            | SQLite                     | PostgreSQL (Supabase)   |
| ------------------ | -------------------------- | ----------------------- |
| –£—Å—Ç–∞–Ω–æ–≤–∫–∞          | ‚ùå –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è            | ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è / Cloud    |
| –ò–Ω—Ç–µ—Ä–Ω–µ—Ç           | ‚ùå –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è            | ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è            |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | ‚ö° –ë—ã—Å—Ç—Ä–∞—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  | üöÄ –õ—É—á—à–µ –¥–ª—è production |
| –ú–∞—Å—Å–∏–≤—ã            | ‚ùå –ù–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ–º JSON)   | ‚úÖ –ï—Å—Ç—å                 |
| Enum —Ç–∏–ø—ã          | ‚ùå –ù–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ–º String) | ‚úÖ –ï—Å—Ç—å                 |
| –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è       | üè† –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞    | üåê Production           |

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### SQLite –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ú–∞—Å—Å–∏–≤—ã**: –í PostgreSQL `banners String[]`, –≤ SQLite `banners String` (JSON —Å—Ç—Ä–æ–∫–∞)
2. **Enum**: –í PostgreSQL `SubscriptionPlan`, –≤ SQLite `String`

### –ö–æ–¥ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±–æ–∏–º–∏

Backend –∫–æ–¥ —É–∂–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±–æ–∏–º–∏ —Ç–∏–ø–∞–º–∏ –ë–î.

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Can't reach database server"

**–ü—Ä–∏—á–∏–Ω–∞**: –ü—ã—Ç–∞–µ—Ç–µ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Supabase, –Ω–æ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

**–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ SQLite (—Å–º. –≤—ã—à–µ)

### –û—à–∏–±–∫–∞: "Table does not exist"

**–ü—Ä–∏—á–∏–Ω–∞**: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ**:

```powershell
Set-Location "d:\QR MENU\backend"
npx prisma db push
node prisma/seed.js
```

### –û—à–∏–±–∫–∞: "Invalid credentials"

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î.

**–†–µ—à–µ–Ω–∏–µ**:

```powershell
Set-Location "d:\QR MENU\backend"
node prisma/seed.js
```

### –û—à–∏–±–∫–∞: "banners.map is not a function"

**–ü—Ä–∏—á–∏–Ω–∞**: –í SQLite –º–∞—Å—Å–∏–≤—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ JSON —Å—Ç—Ä–æ–∫–∏.

**–†–µ—à–µ–Ω–∏–µ**: –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ! Backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç JSON —Å—Ç—Ä–æ–∫–∏ –≤ –º–∞—Å—Å–∏–≤—ã. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤—Å—ë –µ—â—ë –ø–æ—è–≤–ª—è–µ—Ç—Å—è:

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (Ctrl+C –∏ `npm run dev`)
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R)

---

## üìù –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `node prisma/seed.js` –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:

### –í–ª–∞–¥–µ–ª–µ—Ü —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞

```
Email: test@restaurant.com
Password: test123
Restaurant: Test Restaurant
Subdomain: testrestaurant
```

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

```
Email: admin@oimoqr.com
Password: admin123
Role: admin
```

---

## üîß –í–∞—Ä–∏–∞–Ω—Ç 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL –ª–æ–∫–∞–ª—å–Ω–æ

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å production:

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL

1. –°–∫–∞—á–∞—Ç—å: https://www.postgresql.org/download/windows/
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
3. –ó–∞–ø–æ–º–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `postgres`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

```powershell
# –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
psql -U postgres
CREATE DATABASE oimoqr_dev;
\q

# –û–±–Ω–æ–≤–∏—Ç—å .env
# DATABASE_URL="postgresql://postgres:–í–ê–®_–ü–ê–†–û–õ–¨@localhost:5432/oimoqr_dev"

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
Set-Location "d:\QR MENU\backend"
npx prisma db push
node prisma/seed.js
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQLite** - –±—ã—Å—Ç—Ä–æ, –ø—Ä–æ—Å—Ç–æ, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å PostgreSQL** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ù–∞ production

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Supabase** - –Ω–∞–¥–µ–∂–Ω–æ, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ, —Å –±—ç–∫–∞–ø–∞–º–∏

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- **TESTING.md** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- **QUICK_DEPLOY.md** - –î–µ–ø–ª–æ–π –Ω–∞ production
- **CHEATSHEET.md** - –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
